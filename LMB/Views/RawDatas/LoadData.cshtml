@{
    ViewBag.Title = "Read Excel File and Display in mvc5";
}


@using (Html.BeginForm("RowData", "RawDatas", FormMethod.Post, new { enctype = "multipart/form-data", id="myform" }))
{
    @Html.AntiForgeryToken();
    @Html.ValidationSummary();

    <div class="field">
        <div class="file is-right is-info">
            <label class="file-label">
                <input class="file-input" type="file" name="uploadfile" accept=".xlsx">
                <span class="file-cta">
                    <span class="file-icon">
                        <i class="fas fa-upload"></i>
                    </span>
                    <span class="file-label">
                        Right file…
                    </span>
                </span>
            </label>
        </div>
    </div>
    <button type="submit" id="btnRowdata" name="btnRowdata" class="btn btn-success" disabled>Enviar</button>
}

<!-- Modal -->
<div id="modalUser" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                
            </div>
            <div class="modal-body">
                <div class="progress">
                    <div class="progress-bar progress-bar-striped active" role="progressbar" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100" style="width:40%">
                        Loading....
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                
            </div>
        </div>

    </div>
</div>


@section Scripts {
    @Scripts.Render("~/bundles/jqueryval")
    <script type="text/javascript">
       
        $('input[type=file]').change(function () {
                if ($('input[type=file]').val() == '') {
                    $('button').attr('disabled', true)
                }
                else {
                    $('button').attr('disabled', false);
                }
        })

        $('#myform').submit(function () {
            $('#modalUser').modal()
        });
    </script>

    @Html.Raw(ViewBag.Script)
}